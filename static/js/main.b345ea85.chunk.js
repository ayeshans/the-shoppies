(this.webpackJsonpshopify_app=this.webpackJsonpshopify_app||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var i=n(2),s=n(0),o=n(14),a=n.n(o),c=(n(38),n(15)),r=n(16),l=n(19),h=n(18),d=(n(39),n(29)),u=n.n(d),m=(n(58),n(31)),j=n.n(m),b=n(89),f=n(90);n(59);var p=function(t){return Object(i.jsx)("div",{className:"searchContainer",children:Object(i.jsxs)("form",{className:"searchForm",children:[Object(i.jsx)("p",{children:" Movie Title "}),Object(i.jsx)(b.a,{className:"textbox",startAdornment:Object(i.jsx)(f.a,{position:"start",children:Object(i.jsx)(j.a,{})}),placeholder:"Enter movie title here",type:"text",value:t.title,onChange:function(e){return t.onChange(e.target.value)}})]})})};n(68);var v=function(t){var e=t.options,n=t.optionsLength,s=t.onNominate.bind(this),o=t.search,a=t.tooManySelected;return s=function(e,n){t.onNominate(e,n)},Object(i.jsxs)("div",{className:"panelContainer",children:[o&&Object(i.jsxs)("h4",{children:[' Results for "',t.title,'" ']}),o?Object(i.jsx)("div",{children:n>0?Object(i.jsxs)("div",{className:"optionsList",children:[a&&Object(i.jsx)("p",{className:"error",children:" You may only select 5 films. "}),Object(i.jsx)("ul",{children:e.map((function(e,n){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"movieEntry",children:[Object(i.jsxs)("li",{children:[" ",e.Title," (",e.Year,") "]}),t.films.some((function(t){return e.Title===t.Title&&e.Year===t.Year}))?Object(i.jsx)("button",{disabled:!0,className:"disable-submit",children:" Nominate "}):Object(i.jsx)("button",{disabled:!1,className:"allow-submit",onClick:function(){s(e.Title,e.Year)},children:" Nominate "})]})},"".concat(n))}))})]}):Object(i.jsx)("p",{className:"error",children:" No results found - try entering the full movie name, or check for spelling errors."})}):t.submitted?Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:"success",children:" Your nominations were submitted! "})}):Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Search Results"}),Object(i.jsxs)("p",{className:"info",children:[" You can nominate ",5-t.films.length," more movies. "]})]})]})};n(69);var O=function(t){var e=t.films,n=5===e.length,s=t.onUndoNominate.bind(this),o=t.onFinalSubmit.bind(this);return Object(i.jsxs)("div",{className:"nominationsContainer",children:[Object(i.jsxs)("div",{className:"nominationsHeader",children:[Object(i.jsx)("h4",{children:" Nominations "}),Object(i.jsx)("form",{onSubmit:function(t){return o(t)},children:Object(i.jsx)("button",{type:"submit",disabled:!n,className:n?"allow-submit":"disable-submit",children:"Submit"})})]}),Object(i.jsxs)("div",{children:[n&&Object(i.jsx)("p",{className:"info",children:"You can now submit your nominations."}),Object(i.jsx)("ul",{children:e.map((function(t,e){return Object(i.jsxs)("div",{className:"movieEntry",children:[Object(i.jsxs)("li",{children:[" ",t.Title," (",t.Year,") "]}),Object(i.jsx)("button",{className:"allow-submit",onClick:function(){return s(t.Title,t.Year)},children:" Remove "})]},"".concat(e))}))})]})]})},x=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).searchHandleChange=function(e){t.setState({title:e,search:0!==e.length,submitted:!1,tooManySelected:!1},(function(){return t.getSearchResults()}))},t.getSearchResults=function(){t.state.search?u.a.get("https://www.omdbapi.com/?s=".concat(t.state.title,"&type=movie&apikey=799f7e71")).then((function(e){return t.setOptions(e.data)})).catch((function(t){console.log(t)})):t.setState({options:[]})},t.setOptions=function(e){if(e.hasOwnProperty("Search")){var n=e.Search;for(var i in n=n.sort((function(t,e){return parseFloat(e.Year)-parseFloat(t.Year)})))for(var s in n[i])"Title"!==s&&"Year"!==s&&delete n[i][s];t.setState({options:n})}else t.setState({options:[]})},t.handleNomination=function(e,n){5===t.state.films.length?t.setState({tooManySelected:!0}):t.setState({films:t.state.films.concat({Title:e,Year:n})})},t.handleUndoNominate=function(e,n){t.setState({films:t.state.films.filter((function(t){return t.Title!==e||t.Year!==n}))}),t.setState({tooManySelected:!1})},t.handleSubmit=function(e){e.preventDefault(),t.setState({films:[],title:"",search:!1,options:[],submitted:!0,tooManySelected:!1})},t.state={films:[],title:"",search:!1,options:[],submitted:!1,tooManySelected:!1},t}return Object(r.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"main-container",children:[Object(i.jsx)("h1",{children:" The Shoppies "}),Object(i.jsxs)("div",{className:"grid-container",children:[Object(i.jsx)(p,{title:this.state.submitted?"":this.state.title,onChange:this.searchHandleChange,submitted:this.state.submitted}),Object(i.jsx)(v,{title:this.state.title,films:this.state.films,search:this.state.search,options:this.state.options?this.state.options:[],optionsLength:this.state.options?this.state.options.length:0,onNominate:this.handleNomination,submitted:this.state.submitted,tooManySelected:this.state.tooManySelected}),Object(i.jsx)(O,{films:this.state.films,onUndoNominate:this.handleUndoNominate,onFinalSubmit:this.handleSubmit})]})]})}}]),n}(s.Component),g=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(x,{})})}}]),n}(s.Component),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}a.a.render(Object(i.jsx)(g,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/the-shoppies",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/the-shoppies","/service-worker.js");N?function(t){fetch(t).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):w(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):w(t)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.b345ea85.chunk.js.map